<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
<link href="../../CSS/kurs.css" rel="stylesheet" type="text/css" />
<title>Informatik</title>
</head>
<body>
<h3>Lists</h3>
<ul>
  <li>eine angeordnete Sequenz von Elementen, zugreifbar durch Index, unterschiedliche Datentypen sind möglich</li>
  <li>mutable, d.h. Elemente können verändert werden. Dadurch können unerwünschte Seiteneffekte entstehen.</li>
  <li>repräsentiert durch eckige Klammern []</li>

</ul>
<a href="https://www.tutorialspoint.com/python3/python_lists.htm">TutorialsPoint</a>
<pre class="codef">&gt;&gt;&gt; a = []<br>&gt;&gt;&gt; b = [2,'hallo',5,True]<br>&gt;&gt;&gt; len(b)<br>4<br>&gt;&gt;&gt; b[2]         # Zugriff durch Index<br>5<br>&gt;&gt;&gt; b[4]         # Fehler wenn Index zu groß<br>Traceback (most recent call last):<br>  File &quot;&lt;pyshell#4&gt;&quot;, line 1, in &lt;module&gt;<br>    b[4]<br>IndexError: list index out of range
<br>&gt;&gt;&gt; b[1] = 42    # lists sind mutable<br>&gt;&gt;&gt; b<br>[2, 42, 5, True]<br>&gt;&gt;&gt; </pre>
</p>
<p>Zwei Arten, eine Liste zu durchlaufen:</p>
<p>
<pre class="codef">
a = [3, 5, 14, 42, 9]

for i in range(len(a)):   # mit Index
    print(a[i])

for x in a:               # ohne Index
    print(x)
</pre>
</p>

<p>Quiz 9</p>
<p>Einige Funktionen und Methoden von Listen</p>
<p>
<pre class="codef">>>> a = [2,4,3]
>>> a.append(5)      # Liste um ein Element erweitern
>>> a
[2, 4, 3, 5]

>>> b = [7,4]
>>> c = a + b        # zwei Listen konkatenieren
>>> c
[2, 4, 3, 5, 7, 4]

>>> a.extend(b)      # a wird um eine Liste erweitert
>>> a
[2, 4, 3, 5, 7, 4]

>>> a.index(4)       # nach der 4 suchen
1
>>> a.index(4,2)     # nach der 4 ab Index 2 suchen
5

>>> a.remove(4)      # die erste 4 löschen
>>> a
[2, 3, 5, 7, 4]
>>> a.remove(1)      # Fehler, wenn Element nicht in Liste
Traceback (most recent call last):
  File "", line 1, in <module>
    a.remove(1)
ValueError: list.remove(x): x not in list

>>> del(a[2])        # Element mit Index 2 löschen
>>> a
[2, 3, 7, 4]

>>> x = a.pop()      # löschen und rückgabe des letzten Elements
>>> x,a
(4, [2, 3, 7])

>>> a.insert(0,5)    # die 5 ganz vorne einfügen
>>> a
[5, 2, 3, 7]
>>> a.insert(2,9)    # die 9 an Indexposition 2 einfügen
>>> a
[5, 2, 9, 3, 7]
>>> a.insert(100,1)  # die 1 ganz hinten einfügen (Index darf zu groß sein)
>>> a
[5, 2, 9, 3, 7, 1]
>>> a.reverse()
[1, 7, 3, 9, 2, 5]   # Liste umdrehen
</pre>
</p>
<p>Comprehensions sind spezielle Anweisungen, mit denen man Listen erstellen kann.</p>
<p>
<pre class="codef">
>>> a = list(range(10))
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> [x for x in a if x%3==0]
[0, 3, 6, 9]
>>> [x*x for x in a]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
>>> a = [1,2,3]
>>> [x*10+y for x in a for y in a]
[11, 12, 13, 21, 22, 23, 31, 32, 33]
import random # Liste mit 100 Zufallszahlen zwischen 0 und 1000
a = [random.randint(0,1000) for i in range(100)]
</pre>
</p>
<p>Aus Strings können Listen entstehen und umgekehrt</p>
<p>
<pre class="codef">
>>> s =  'Im traurigen Monat    November wars'
>>> a = s.split()
>>> a
['Im', 'traurigen', 'Monat', 'November', 'wars']
>>> a = s.split('Monat')
>>> a
['Im traurigen ', '    November wars']

>>> a = ['e','f','g']<br>&gt;&gt;&gt; ''.join(a)<br>'efg'<br>&gt;&gt;&gt; '_'.join(a)<br>'e_f_g'</pre>
</p>

<p>Listen sortieren</p>
<p>
<pre class="codef">
>>> a = [3, 1, 2]
>>> b = sorted(a)      # a wird nicht verändert
>>> b
[1, 2, 3]

>>> a.sort()           # a wird verändert
>>> a
[1, 2, 3]
>>> a.sort(reverse=Trze)
>>> a
[3, 2, 1]
</pre>
</p>

<p>Jede Variable, die auf ein Listenobjekt zeigt, das verändert wird, ist betroffen (Seiteneffekte).</p>
<p>
<pre class="codef">
>>> a = [1,2,3]
>>> b = a
>>> a,b
([1, 2, 3], [1, 2, 3])
>>> a == b                     # a und b haben gleichen Inhalt
True
>>> a is b                     # sie sind dasselbe Objekt
True

>>> a.append(4)                # a wird verändert
>>> a,b
([1, 2, 3, 4], [1, 2, 3, 4])   # dadurch verändert sich auch b (Seiteneffekt)
</pre></p>

<img src="bild2.png">


<pre class="codef">
>>> a = [1,2,3]
>>> b = a[:]                   # Vermeiden von Seiteneffekten durch Cloning
>>> a == b                     # a und b haben gleichen Inhalt
True
>>> a is b                     # aber sind verschiedenen Objekte
False
>>> a.append(4)
>>> a,b
([1, 2, 3, 4], [1, 2, 3])
>>>
</pre></p>

<img src="bild3.png" width="695" height="205">
<p>Seiteneffekte bei Listen von Listen</p>
<p>
<pre class="codef">
>>> a = [1,2]
>>> b = [3,4]
>>> x = [a,b]
>>> y = x[:]        # y ist flache Kopie von x
>>> x,y
([[1, 2], [3, 4]], [[1, 2], [3, 4]])

>>> a.append(0)     # a wird verändert
>>> x,y             # damit ändern sich x und y
([[1, 2, 0], [3, 4]], [[1, 2, 0], [3, 4]])
</pre></p>



<p><img src="bild4.png" width="924" height="391">
<pre class="codef">
>>> from copy import deepcopy
>>> a = [1,2]
>>> b = [3,4]
>>> x = [a,b]
>>> y = deepcopy(x)    # Vermeiden von Seiteneffekten durch tiefe Kopie
>>> a.append(0)        # a wird verändert
>>> x,y                # nur x wird dadurch verändert
([[1, 2, 0], [3, 4]], [[1, 2], [3, 4]])
</pre>
</p>

<img src="bild5.png" width="896" height="341">
<p>Iterieren und Löschen in derselben Liste ist nicht gut.</p>
<p>
<pre class="codef">
>>> a = [2,4,7]
>>> for x in a:
      if x % 2 == 0:
         a.remove(x)

>>> a
[4, 7]                   # die 4 wurde nicht gelöscht
</pre>
</p>
<p><img src="bild7.png" width="746" height="239">

<pre class="codef">
>>> a = [2,4,7]
>>> for i in range(len(a)-1,-1,-1):   # rückwärts durch die Liste gehen
      if a[i]%2 == 0:
         a.remove(a[i])               # oder del(a[i])

>>> a
[7]                                   # alle geraden Zahlen sind gelöscht
</pre>
</p>


<img src="bild8.png" width="771" height="284">
<pre class="codef">
>>> a = [2,4,7]
>>> for x in a[:]:       # über ein Kopie iterieren
      if x % 2 == 0:
         a.remove(x)

>>> a
[7]                      # alle geraden Zahlen sind gelöscht
</pre>
</p>

<img src="bild9.png" width="945" height="271">
<p>Quiz 10</p>
</body>
</html>
